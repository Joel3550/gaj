<% layout('layout') %>

<div class="row">
  <div class="col-sm-12" ng-app="app" ng-controller="main">
    <h1>Angular Node File Upload</h1>
    <form name="upload_form">
      Single Image with validations
      <input type="file" ngf-select ng-model="file"
             name="file" ngf-pattern="'image/*'"
             accept="image/*" ngf-max-size="20MB"/>

      Image thumbnail: <img style="width:100px;" ng-show="!!file" ngf-thumbnail="file || '/thumb.jpg'"/>
      <i ng-show="upload_form.file.$error.required">*required</i><br>
      <i ng-show="upload_form.file.$error.maxSize">File too large
        {{file.size / 1000000|number:1}}MB: max 20M</i>
      <!--Multiple files-->
       <button type="button" ngf-select ng-model="files" ngf-multiple="true">Select</button>
       Drop files: <div ngf-drop ng-model="files" class="drop-box">Drop</div>
      <button type="submit" ng-click="submit()">submit</button>
      <p class="progress">{{progress}}</p>
    </form>
  </div>
</div>

<script type="text/javascript" src="/angular/angular.min.js"></script>
<script type="text/javascript" src="/ng-file-upload/dist/ng-file-upload.min.js"></script>
<script type="text/javascript" src="/ng-file-upload/dist/ng-file-upload-shim.min.js"></script>
<script type="text/javascript" src="/javascripts/app/main.js"></script>